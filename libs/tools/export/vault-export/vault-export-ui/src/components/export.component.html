<bit-callout
  type="danger"
  title="{{ 'vaultExportDisabled' | i18n }}"
  *ngIf="disablePersonalVaultExportPolicy$ | async"
>
  {{ "personalVaultExportPolicyInEffect" | i18n }}
</bit-callout>
<tools-export-scope-callout
  [organizationId]="organizationId"
  [exportFormat]="format"
  [orgExportDescription]="orgExportDescription"
></tools-export-scope-callout>

<form [formGroup]="exportForm" [bitSubmit]="submit" id="export_form_exportForm">
  <ng-container *ngIf="organizations$ | async as organizations">
    <bit-form-field *ngIf="organizations.length > 0">
      <bit-label>{{ "exportFrom" | i18n }}</bit-label>
      <bit-select formControlName="vaultSelector">
        <bit-option
          [label]="'myVault' | i18n"
          value="myVault"
          icon="bwi-user"
          *ngIf="!(organizationDataOwnershipPolicyAppliesToUser$ | async)"
        />
        <bit-option
          *ngFor="let o of organizations"
          [value]="o.id"
          [label]="o.name"
          icon="bwi-business"
        />
      </bit-select>
    </bit-form-field>
  </ng-container>

  <bit-form-field>
    <bit-label>{{ "fileFormat" | i18n }}</bit-label>
    <select bitInput formControlName="format">
      @for (f of formatOptions$ | async; track f.format) {
        <option [value]="f.format">{{ f.name }}</option>
      }
    </select>
  </bit-form-field>

</form>
